function getProductDetails() {
  productDetails = {};
  productDetails["carrots"] = {};
  productDetails["carrots"]["images"] = ["img/carrots/carrot1.jpg", "img/carrots/carrot2.jpg", "img/carrots/carrot3.jpg", "img/carrots/carrot4.jpg", "img/carrots/carrot5.jpeg"];
  productDetails["carrots"]["page"] = "carrots.html";
  productDetails["carrots"]["name"] = "Carrots";
  productDetails["carrots"]["description"] = "The carrot is a root vegetable, usually orange in color, though purple, black, red, white, and yellow cultivars exist. They are a domesticated form of the wild carrot, Daucus carota, native to Europe and Southwestern Asia. The plant probably originated in Persia and was originally cultivated for its leaves and seeds. The most commonly eaten part of the plant is the taproot, although the stems and leaves are also eaten. The domestic carrot has been selectively bred for its greatly enlarged, more palatable, less woody-textured taproot.";
  productDetails["carrots"]["units"] = "kg";
  productDetails["carrots"]["price"] = 4.95;
  productDetails["carrots"]["pricePerUnit"] = 0.99;
  productDetails["carrots"]["type"] = "veg";


  productDetails["bananas"] = {};
  productDetails["bananas"]["images"] = ["img/bananas/banana1.jpg", "img/bananas/banana2.jpg", "img/bananas/banana3.jpg", "img/bananas/banana4.jpg", "img/bananas/banana5.jpg"];
  productDetails["bananas"]["page"] = "bananas.html";
  productDetails["bananas"]["name"] = "Bananas";
  productDetails["bananas"]["description"] = "A banana is an elongated, edible fruit (botanically a berry) produced by several kinds of large herbaceous flowering plants in the genus Musa. In some countries, bananas used for cooking may be called \"plantains\", distinguishing them from dessert bananas. The fruit is variable in size, color, and firmness, but is usually elongated and curved, with soft flesh rich in starch covered with a rind, which may be green, yellow, red, purple, or brown when ripe. The fruits grow in clusters hanging from the top of the plant.";
  productDetails["bananas"]["units"] = "500g";
  productDetails["bananas"]["price"] = 6.98;
  productDetails["bananas"]["pricePerUnit"] = 1.29;
  productDetails["bananas"]["type"] = "fruit";

  productDetails["coconut"] = {};
  productDetails["coconut"]["images"] = ["img/coconuts/coconut1.jpg", "img/coconuts/coconut2.jpg", "img/coconuts/coconut3.jpg", "img/coconuts/coconut4.jpg", "img/coconuts/coconut5.jpg"];
  productDetails["coconut"]["page"] = "coconut.html";
  productDetails["coconut"]["name"] = "Coconut";
  productDetails["coconut"]["description"] = "The coconut is a round and elongate fruit of white, fibrous and oily meat covered by a thick, brown and hairy shell. Coconuts are surrounded by a fibrous kernel, inside which is a white meat called copra. When the fruit is still tender it yields a milky fluid that is commonly used as basic food in some zones. There is a predominant use of coconut in the production of copra: the dried kernel of the coconut, from which oil is obtained.";
  productDetails["coconut"]["units"] = "unit";
  productDetails["coconut"]["price"] = 5.98;
  productDetails["coconut"]["pricePerUnit"] = 2.99;
  productDetails["coconut"]["type"] = "fruit";

  productDetails["apples"] = {};
  productDetails["apples"]["images"] = ["img/apples/apple1.jpg", "img/apples/apple2.jpg", "img/apples/apple3.jpg", "img/apples/apple4.jpg", "img/apples/apple5.jpg"];
  productDetails["apples"]["page"] = "apples.html";
  productDetails["apples"]["name"] = "Apples";
  productDetails["apples"]["description"] = "An apple is an edible fruit produced by an apple tree. Apple trees are cultivated worldwide and are the most widely grown species in the genus Malus. The tree originated in Central Asia, where its wild ancestor is still found today. Apples have been grown for thousands of years in Asia and Europe and were brought to North America by European colonists. Apples have religious and mythological significance in many cultures, including Norse, Greek, and European Christian tradition.";
  productDetails["apples"]["units"] = "kg";
  productDetails["apples"]["price"] = 3.99;
  productDetails["apples"]["pricePerUnit"] = 1.49;
  productDetails["apples"]["type"] = "fruit";

  productDetails["cherries"] = {};
  productDetails["cherries"]["images"] = ["img/cherries/cherry1.jpg", "img/cherries/cherry2.jpg", "img/cherries/cherry3.jpg", "img/cherries/cherry4.jpg", "img/cherries/cherry5.jpg"];
  productDetails["cherries"]["page"] = "cherries.html";
  productDetails["cherries"]["name"] = "Cherries";
  productDetails["cherries"]["description"] = "Cherries are a fleshy drupe (stone fruit) that are generally heart-shaped to nearly globular, about 2 cm (1 inch) in diameter, and varying in colour from yellow through red to nearly black. The acid content of the sweet cherry is low. The higher acid content of the sour cherry produces its characteristic tart flavour.";
  productDetails["cherries"]["units"] = "500g";
  productDetails["cherries"]["price"] = 0.99;
  productDetails["cherries"]["pricePerUnit"] = 1.99;
  productDetails["cherries"]["type"] = "fruit";

  productDetails["tomatoes"] = {};
  productDetails["tomatoes"]["images"] = ["img/tomatoes/tomato1.jpg", "img/tomatoes/tomato2.jpg", "img/tomatoes/tomato3.jpg", "img/tomatoes/tomato4.jpg", "img/tomatoes/tomato5.jpg"];
  productDetails["tomatoes"]["page"] = "tomatoes.html";
  productDetails["tomatoes"]["name"] = "Tomatoes";
  productDetails["tomatoes"]["description"] = "The tomato is the edible berry of the tomato plant. The species originated in western South America and Central America. The Nahuatl (the language used by the Aztecs) word tomatl gave rise to the Spanish word tomate, from which the English word tomato derived. Its domestication and use as a cultivated food may have originated with the indigenous peoples of Mexico.";
  productDetails["tomatoes"]["units"] = "500g";
  productDetails["tomatoes"]["price"] = 16.99;
  productDetails["tomatoes"]["pricePerUnit"] = 1.99;
  productDetails["tomatoes"]["type"] = "fruit";

  productDetails["potatoes"] = {};
  productDetails["potatoes"]["images"] = ["img/potatoes/potato1.jpg", "img/potatoes/potato2.jpg", "img/potatoes/potato3.jpg", "img/potatoes/potato4.jpg", "img/potatoes/potato5.jpg"];
  productDetails["potatoes"]["page"] = "potatoes.html";
  productDetails["potatoes"]["name"] = "Potatoes";
  productDetails["potatoes"]["description"] = "The potato is native to the Peruvian-Bolivian Andes and is one of the worlds main food crops. Potatoes are frequently served whole or mashed as a cooked vegetable and are also ground into potato flour, used in baking and as a thickener for sauces. The tubers are highly digestible and supply vitamin C, protein, thiamin, and niacin.";
  productDetails["potatoes"]["units"] = "kg";
  productDetails["potatoes"]["price"] = 8.61;
  productDetails["potatoes"]["pricePerUnit"] = 0.99;
  productDetails["potatoes"]["type"] = "veg";

  productDetails["beans"] = {};
  productDetails["beans"]["images"] = ["img/beans/bean1.jpg", "img/beans/bean2.jpg", "img/beans/bean3.jpg", "img/beans/bean4.jpg", "img/beans/bean5.jpg"];
  productDetails["beans"]["page"] = "beans.html";
  productDetails["beans"]["name"] = "Beans";
  productDetails["beans"]["description"] = "Green beans are the unripe, young fruit of various cultivars of the common bean. Immature or young pods of the runner bean, yardlong bean, and hyacinth bean are used in a similar way. Green beans are known by many common names, including French beans, string beans, snap beans, snaps, haricot vert, or just plain 'beans'";
  productDetails["beans"]["units"] = "kg";
  productDetails["beans"]["price"] = 41.11;
  productDetails["beans"]["pricePerUnit"] = 1.29;
  productDetails["beans"]["type"] = "veg";

  productDetails["strawberry"] = {};
  productDetails["strawberry"]["images"] = ["img/strawberries/strawberry1.jpg", "img/strawberries/strawberry2.jpg", "img/strawberries/strawberry3.jpg", "img/strawberries/strawberry4.jpg", "img/strawberries/strawberry5.jpg"];
  productDetails["strawberry"]["page"] = "strawberries.html";
  productDetails["strawberry"]["name"] = "Strawberry";
  productDetails["strawberry"]["description"] = "A strawberry is both a low-growing, flowering plant and also the name of the fruit that it produces. Strawberries are soft, sweet, bright red berries. They're also delicious. Strawberries have tiny edible seeds, which grow all over their surface. When ripe, strawberries smell wonderful and taste even better. You can make jam, pie, strawberry shortcake, and more with strawberries.";
  productDetails["strawberry"]["units"] = "unit";
  productDetails["strawberry"]["price"] = 2.22;
  productDetails["strawberry"]["pricePerUnit"] = 1.25;
  productDetails["strawberry"]["type"] = "fruit";

  productDetails["broccoli"] = {};
  productDetails["broccoli"]["images"] = ["img/broccoli/broccoli1.jpg", "img/broccoli/broccoli2.jpg", "img/broccoli/broccoli3.jpg", "img/broccoli/broccoli4.jpg", "img/broccoli/broccoli5.jpg"];
  productDetails["broccoli"]["page"] = "broccoli.html";
  productDetails["broccoli"]["name"] = "Broccoli";
  productDetails["broccoli"]["description"] = "Broccoli is an edible green plant in the cabbage family whose large flowering head, stalk and small associated leaves are eaten as a vegetable. Broccoli has large flower heads, usually dark green in color, arranged in a tree-like structure branching out from a thick stalk which is usually light green. It is eaten either raw or cooked.";
  productDetails["broccoli"]["units"] = "unit";
  productDetails["broccoli"]["price"] = 2.62;
  productDetails["broccoli"]["pricePerUnit"] = 0.44;
  productDetails["broccoli"]["type"] = "veg";

  productDetails["oranges"] = {};
  productDetails["oranges"]["images"] = ["img/oranges/orange1.jpg", "img/oranges/orange2.jpg", "img/oranges/orange3.jpg", "img/oranges/orange4.jpg", "img/oranges/orange5.jpg"];
  productDetails["oranges"]["page"] = "oranges.html";
  productDetails["oranges"]["name"] = "Oranges";
  productDetails["oranges"]["description"] = "An orange is a type of citrus fruit that people often eat. Oranges are a very good source of vitamin C. Orange juice is an important part of many people's breakfast. The 'sweet orange', which is the kind that are most often eaten today, grew first in South and East Asia but now grows in lots of parts of the world. Oranges are round orange-coloured fruit that grow on a tree which can reach 10 metres (33 ft) high. Orange trees have dark green shiny leaves and small white flowers with five petals. The flowers smell very sweet which attracts many bees.";
  productDetails["oranges"]["units"] = "unit";
  productDetails["oranges"]["price"] = 5.43;
  productDetails["oranges"]["pricePerUnit"] = 2.99;
  productDetails["oranges"]["type"] = "fruit";

  productDetails["grapes"] = {};
  productDetails["grapes"]["images"] = ["img/grapes/grapes1.jpg", "img/grapes/grapes2.jpg", "img/grapes/grapes3.jpg", "img/grapes/grapes4.jpg", "img/grapes/grapes5.jpg"];
  productDetails["grapes"]["page"] = "grapes.html";
  productDetails["grapes"]["name"] = "Grapes";
  productDetails["grapes"]["description"] = "A grape is a fruit, botanically a berry, of the deciduous woody vines of a flowering plant. Grapes can be eaten fresh as table grapes or they can be used for making wine, jam, grape juice, jelly, grape seed extract, raisins, vinegar, and grape seed oil. Grapes are a non-climacteric type of fruit, generally occurring in clusters.";
  productDetails["grapes"]["units"] = "kg";
  productDetails["grapes"]["price"] = 0.99;
  productDetails["grapes"]["pricePerUnit"] = 30.45;
  productDetails["grapes"]["type"] = "fruit";

  return productDetails;
}

function getProductList() {
  var products = [];
  var productDetails = getProductDetails();

  for (var key in productDetails) {
    products.push(key);
  }

  return products;
}

function getProductQuantity(product) {
  var value = "; " + document.cookie;
  var parts = value.split("; " + product + "=");
  if (parts.length == 2) return parts.pop().split(";").shift();
}

function readBasket() {
  var basket = {};
  products = getProductList();
  var productcount = products.length;
  for (var i = 0; i < productcount; i++) {
    basket[products[i]] = getProductQuantity(products[i]);
  }

  return basket;
}

function clearBasket() {
    var cookies = document.cookie.split(";");

    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i];
        var eqPos = cookie.indexOf("=");
        var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
        document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
    }
}

function calculateTotals() {
  var basket = readBasket();
  var productDetails = getProductDetails();

  total = 0;
  for (var product in basket) {
    total += parseInt(basket[product]) * parseFloat(productDetails[product]["price"]);
  }

  totals = {};
  totals["total"] = total;
  totals["vat"] = (total - total / 1.175);
  totals["totalnovat"] = (total / 1.175);

  return totals;
}

function addToBasket(product, quantity) {

  if (document.cookie.indexOf(product) == -1) {
    createEmptyBasket();
  }

  oldquantity = parseInt(getProductQuantity(product));
  newquantity = oldquantity + parseInt(quantity);

  document.cookie = product + "=" + newquantity.toString() + ";path=/";
}

function removeProductFromBasket(product) {
  document.cookie = product + "=0;path=/";
}

function changeProductQuantity(product, newquantity) {
  console.log(product);
  console.log(newquantity);

  document.cookie = product + "=" + newquantity.toString() + ";path=/";
}

function createEmptyBasket() {
  products = getProductList();
  var productcount = products.length;
  for (var i = 0; i < productcount; i++) {
    document.cookie=products[i] + "=0;path=/";
  }
}

function createEmptyOrder() {
  document.cookie="title=;path=/";
  document.cookie="firstname=;path=/";
  document.cookie="surname=;path=/";
  document.cookie="number=;path=/";
  document.cookie="street=;path=/";
  document.cookie="postcode=;path=/";
  document.cookie="city=;path=/";
  document.cookie="country=;path=/";
  document.cookie="cardtype=;path=/";
  document.cookie="cardnumber=;path=/";
  document.cookie="month=;path=/";
  document.cookie="year=;path=/";
}

function setName() {
  document.cookie="title=" + document.getElementById('title').value + ";path=/";
  document.cookie="firstname=" + document.getElementById('firstname').value + ";path=/";
  document.cookie="surname=" + document.getElementById('surname').value + ";path=/";
}

function getName() {
  var name = {};
  name["title"] = getCookieVariableValue('title');
  name["firstname"] = getCookieVariableValue('firstname');
  name["surname"] = getCookieVariableValue('surname');

  return name;
}

function setAddress() {
  document.cookie="number=" + document.getElementById('number').value + ";path=/";
  document.cookie="street=" + document.getElementById('street').value + ";path=/";
  document.cookie="postcode=" + document.getElementById('postcode').value + ";path=/";
  document.cookie="city=" + document.getElementById('city').value + ";path=/";
  document.cookie="country=" + document.getElementById('country').value + ";path=/";
}

function getAddress() {
  var address = {};
  address["number"] = getCookieVariableValue('number');
  address["street"] = getCookieVariableValue('street');
  address["postcode"] = getCookieVariableValue('postcode');
  address["city"] = getCookieVariableValue('city');
  address["country"] = getCookieVariableValue('country');

  return address;
}

function setCardDetails() {
  if (document.getElementById('solo').checked) {
    document.cookie="cardtype=Solo;path=/";
  }
  else if (document.getElementById('switch').checked) {
    document.cookie="cardtype=Switch;path=/";
  }
  else if (document.getElementById('mastercard').checked) {
    document.cookie="cardtype=Mastercard;path=/";
  }
  else if (document.getElementById('visa').checked) {
    document.cookie="cardtype=Visa;path=/";
  }
  document.cookie="cardnumber=" + document.getElementById('cardnumber').value + ";path=/";
  document.cookie="month=" + document.getElementById('month').value + ";path=/";
  document.cookie="year=" + document.getElementById('year').value + ";path=/";
}

function getCardDetails() {
  var cardDetails = {};
  cardDetails["cardtype"] = getCookieVariableValue('cardtype');
  cardDetails["cardnumber"] = getCookieVariableValue('cardnumber');
  cardDetails["month"] = getCookieVariableValue('month');
  cardDetails["year"] = getCookieVariableValue('year');

  return cardDetails;
}

function getCookieVariableValue(variable) {
  var value = "; " + document.cookie;
  var parts = value.split("; " + variable + "=");
  if (parts.length == 2) return parts.pop().split(";").shift()
}
